@import "../style/base";

$button-letter-spacing: var(--button-letter-spacing, #{size(2)});
$button-fab-size: var(--button-fab-size, #{size(40)});

$button-color: var(--button-color, #{color-contrast("primary")});
$button-bg: var(--button-bg, #{color("primary")});
$button-shadow-color: var(--button-shadow-color, #{color("primary", $default-hue, 0.2)});

$button-color-hover: var(--button-color-hover, #{color-contrast("primary", $light-hue)});
$button-bg-hover: var(--button-bg-hover, #{color("primary", $light-hue)});
$button-shadow-color-hover: var(--button-shadow-color-hover, #{color("primary", $default-hue, 0.5)});

$button-color-active: var(--button-color-active, #{color-contrast("primary", $dark-hue)});
$button-bg-active: var(--button-bg-active, #{color("primary", $dark-hue)});
$button-bg-active-flat: var(--button-bg, #{color("primary", $default-hue, 0.05)});

$button-color-disabled: var(--button-color-disabled, #{color-contrast("shade", $light-hue)});
$button-bg-disabled: var(--button-bg-disabled, #{color("shade", $light-hue)});

$button-border-outlined: var(--button-border-outlined, #{size(2)} solid currentColor);

$button-transition: box-shadow #{$transition-duration-slow} #{$transition-ease},
background #{$transition-duration-medium} #{$transition-ease},
color #{$transition-duration-medium} #{$transition-ease};

$button-padding: #{$spacing-m} #{$spacing-l};
$button-font-size: #{$font-size-m};
$button-border-radius: #{$border-radius-m};
$button-font-family: #{$font-family-sans-serif};

:host {
	--_button-color: #{$button-color};
	--_button-bg: #{$button-bg};
	--_button-shadow-color: #{$button-shadow-color};

	color: var(--_button-color);
	background: var(--_button-bg);
	box-shadow: elevation(1, var(--_button-shadow-color));

	padding: #{$button-padding};
	font-size: #{$button-font-size};
	border-radius: #{$button-border-radius};
	font-family: #{$button-font-family};
	transition: #{$button-transition};
	letter-spacing: #{$button-letter-spacing};

	line-height: 1;
	text-transform: uppercase;
	cursor: pointer;
	text-align: center;
	user-select: none;
	outline: none;
	display: inline-flex;
	align-items: center;
	justify-content: center;

	// Add ellipsis when the text is too long
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;

	// Make sure the ripple is behind the text but visible inside the button
	position: relative;
	z-index: 0;
}

:host(:hover) {
	--_button-color: #{$button-color-hover};
	--_button-bg: #{$button-bg-hover};
	--_button-shadow-color: #{$button-shadow-color-hover};
}

:host([fab]) {
	width: #{$button-fab-size};
	height: #{$button-fab-size};

	padding: 0;
	display: inline-flex;
	justify-content: center;
	align-items: center;
	border-radius: 100%;
}

:host([inverted]) {
	color: var(--_button-bg);
	background: var(--_button-color);
}

:host([outlined]) {
	border: #{$button-border-outlined};
}

:host(:not([disabled]):active), :host(:not(:hover):not([disabled]):focus-within) {
	--_button-color: #{$button-color-active};
	--_button-bg: #{$button-bg-active};
}

:host(:not([flat]):not([disabled]):active), :host(:not([flat]):not(:hover):not([disabled]):focus-within) {
	box-shadow: elevation(2, var(--_button-shadow-color));
}

:host([flat]) {
	box-shadow: none;
	background: none;
}

:host([flat]:focus-within) {
	background: #{$button-bg-active-flat};
}

:host([disabled]) {
	--_button-color: #{$button-color-disabled};
	--_button-bg: #{$button-bg-disabled};
	box-shadow: none;
	cursor: default;
	pointer-events: none;
}

#ripple {
	z-index: -1;
}
